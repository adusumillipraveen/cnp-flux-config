apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: env-injector-webhook
  namespace: admin
spec:
  values:
    nodeAffinityTerms:
      matchExpressions:
        - key: app.kubernetes.io/name
          operator: In
          values:
            - env-injector-webhook
    nodeAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        - weight: 1
          preference:
            matchExpressions:
              - key: kubernetes.azure.com/mode
                operator: In
                values:
                  - system
